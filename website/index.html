<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mullally Tractor Sales - Tractors & Mowers in Jeffersonville, NY</title>
    <link rel="stylesheet" href="styles.css?v=2025070412">
    <script src="access_key.js?v=2025070412"></script>
    <style>
        /* Homepage specific styles */
        .view-details-btn {
            display: inline-flex;
            margin: 10px 5px;
            padding: 12px 20px;
            background-color: #2c5530;
            color: white !important;
            text-decoration: none;
            border-radius: 5px;
            transition: background-color 0.3s;
            font-size: 0.9em;
            width: 150px;
            height: 44px;
            text-align: center;
            white-space: nowrap;
            box-sizing: border-box;
            align-items: center;
            justify-content: center;
        }
        
        .view-details-btn:hover {
            background-color: #3a6b3f;
            color: white !important;
        }
        
        .product-item {
            position: relative;
            padding-bottom: 20px;
        }
        
        .product-item .button-container {
            margin-top: 15px;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }
        
        /* Override the centered get-quote-btn for homepage */
        .product-item .get-quote-btn {
            display: inline-flex !important;
            margin: 10px 5px !important;
            width: 150px !important;
            align-items: center !important;
            justify-content: center !important;
        }

        @media (max-width: 768px) {
            .product-item .button-container {
                display: flex;
                flex-direction: column;
                align-items: center;
                gap: 10px;
            }
            
            .view-details-btn,
            .product-item .get-quote-btn {
                width: 200px;
                margin: 5px 0;
            }
        }
    </style>
</head>
<body>
    <header>
        <div id="navigation"></div>
        <script src="nav_loader.js?v=2025070412"></script>
        <script>
            // Load navigation after script is loaded
            if (typeof loadNavigation === 'function') {
                loadNavigation();
            } else {
                // Fallback if script hasn't loaded yet
                window.addEventListener('load', function() {
                    if (typeof loadNavigation === 'function') {
                        loadNavigation();
                    }
                });
            }
        </script>
    </header>

    <main>
        <section class="hero">
            <h2>Quality Tractors & Mowers for Your Land Management Needs</h2>
            <p>Serving Jeffersonville, NY and surrounding areas with reliable equipment and expert service.</p>
        </section>

        <section class="products">
            <h2>Our Products</h2>
            <div class="product-grid">
                <div class="product-item">
                    <a href="john-deere-1025r.html">
                        <img src="images/john-deere-1025r-1.jpg" alt="John Deere 1025R" width="200" height="150">
                        <h3>John Deere 1025R</h3>
                        <p><strong>Entry-Level Sub-Compact Tractor</strong></p>
                        <p>23.8 HP Yanmar 3-cylinder diesel engine with hydrostatic 2-range transmission. Compact size perfect for tight spaces with 681 lbs rear lift capacity. Ideal for mowing, light loader work, and small property tasks.</p>
                    </a>
                    <div class="button-container">
                        <a href="john-deere-1025r.html" class="view-details-btn">View Full Details</a>
                        <button class="get-quote-btn" onclick="openQuoteModal('John Deere 1025R')">Get a Quote</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <a href="john-deere-2025r.html">
                        <img src="images/john-deere-2025r-1.jpg" alt="John Deere 2025R" width="200" height="150">
                        <h3>John Deere 2025R</h3>
                        <p><strong>Versatile Compact Tractor</strong></p>
                        <p>23.9 HP with larger frame and longer wheelbase (63"). Higher rear lift capacity (882 lbs) and more ground clearance (12.5"). Better suited for heavier implements and more demanding tasks than the 1025R.</p>
                    </a>
                    <div class="button-container">
                        <a href="john-deere-2025r.html" class="view-details-btn">View Full Details</a>
                        <button class="get-quote-btn" onclick="openQuoteModal('John Deere 2025R')">Get a Quote</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <a href="john-deere-2038r.html">
                        <img src="images/john-deere-2038r-1.png" alt="John Deere 2038R" width="200" height="150">
                        <h3>John Deere 2038R</h3>
                        <p><strong>Turbocharged Compact Powerhouse</strong></p>
                        <p>36.7 HP turbocharged engine with significantly higher rear lift capacity (1,356 lbs). Upgraded hydraulics for faster implement response. Designed for heavier loader work and larger implements.</p>
                    </a>
                    <div class="button-container">
                        <a href="john-deere-2038r.html" class="view-details-btn">View Full Details</a>
                        <button class="get-quote-btn" onclick="openQuoteModal('John Deere 2038R')">Get a Quote</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <a href="john-deere-3038e.html">
                        <img src="images/john-deere-3038e-1.jpg" alt="John Deere 3038E" width="200" height="150">
                        <h3>John Deere 3038E</h3>
                        <p><strong>Economical 3 Series Tractor</strong></p>
                        <p>36.8 HP with 3 Series chassis (larger frame). Similar horsepower to 2038R but simpler, more economical model with fewer premium features. Suited for users wanting 3 Series size at a lower price point.</p>
                    </a>
                    <div class="button-container">
                        <a href="john-deere-3038e.html" class="view-details-btn">View Full Details</a>
                        <button class="get-quote-btn" onclick="openQuoteModal('John Deere 3038E')">Get a Quote</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <a href="john-deere-3039r.html">
                        <img src="images/john-deere-3039r-1.jpg" alt="John Deere 3039R" width="200" height="150">
                        <h3>John Deere 3039R</h3>
                        <p><strong>Premium 3 Series Tractor</strong></p>
                        <p>38.3 HP with substantially higher rear lift capacity (2,200 lbs). Advanced hydraulics and eHydro transmission. Premium features include flat operator platform and advanced controls. Suitable for demanding tasks and professional use.</p>
                    </a>
                    <div class="button-container">
                        <a href="john-deere-3039r.html" class="view-details-btn">View Full Details</a>
                        <button class="get-quote-btn" onclick="openQuoteModal('John Deere 3039R')">Get a Quote</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <a href="john-deere-4052m.html">
                        <img src="images/john-deere-4052M-1.png" alt="John Deere 4052M" width="200" height="150">
                        <h3>John Deere 4052M</h3>
                        <p><strong>Heavy-Duty 4 Series Tractor</strong></p>
                        <p>51.5 HP 4-cylinder engine with 4 Series chassis. Rear lift capacity of 2,502 lbs with robust hydraulics and planetary final drives. Large 13-gallon fuel tank. Designed for heavy-duty work, large properties, and commercial applications.</p>
                    </a>
                    <div class="button-container">
                        <a href="john-deere-4052m.html" class="view-details-btn">View Full Details</a>
                        <button class="get-quote-btn" onclick="openQuoteModal('John Deere 4052M')">Get a Quote</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <a href="chapman-fm120.html">
                        <img src="images/chapman-fm120-1.png" alt="Chapman FM120 Flail Mower" width="200" height="150">
                        <h3>Chapman FM120 Flail Mower</h3>
                        <p>48-inch ATV flail mower for efficient brush cutting and property maintenance.</p>
                    </a>
                    <div class="button-container">
                        <a href="chapman-fm120.html" class="view-details-btn">View Full Details</a>
                        <button class="get-quote-btn" onclick="openQuoteModal('Chapman FM120 Flail Mower')">Get a Quote</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <a href="chapman-fm150.html">
                        <img src="images/chapman-fm150-1.png" alt="Chapman FM150 Flail Mower" width="200" height="150">
                        <h3>Chapman FM150 Flail Mower</h3>
                        <p>60-inch heavy-duty flail mower for larger properties and commercial applications.</p>
                    </a>
                    <div class="button-container">
                        <a href="chapman-fm150.html" class="view-details-btn">View Full Details</a>
                        <button class="get-quote-btn" onclick="openQuoteModal('Chapman FM150 Flail Mower')">Get a Quote</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <a href="chapman-dt100.html">
                        <img src="images/chapman-dt100-1.png" alt="Chapman DT100 Dump Trailer" width="200" height="150">
                        <h3>Chapman DT100 Hydraulic Dump Trailer</h3>
                        <p>1-ton capacity hydraulic dump trailer for efficient material handling.</p>
                    </a>
                    <div class="button-container">
                        <a href="chapman-dt100.html" class="view-details-btn">View Full Details</a>
                        <button class="get-quote-btn" onclick="openQuoteModal('Chapman DT100 Hydraulic Dump Trailer')">Get a Quote</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <a href="chapman-pc120.html">
                        <img src="images/chapman-pc120-1.png" alt="Chapman PC120 Power Collector" width="200" height="150">
                        <h3>Chapman PC120 Power Collector</h3>
                        <p>48-inch grass and leaf collection system for professional lawn maintenance.</p>
                    </a>
                    <div class="button-container">
                        <a href="chapman-pc120.html" class="view-details-btn">View Full Details</a>
                        <button class="get-quote-btn" onclick="openQuoteModal('Chapman PC120 Power Collector')">Get a Quote</button>
                    </div>
                </div>
                
                <div class="product-item">
                    <a href="chapman-pc150.html">
                        <img src="images/chapman-pc150-1.png" alt="Chapman PC150 Power Collector" width="200" height="150">
                        <h3>Chapman PC150 Power Collector</h3>
                        <p>60-inch commercial-grade power collector for large-scale grounds maintenance.</p>
                    </a>
                    <div class="button-container">
                        <a href="chapman-pc150.html" class="view-details-btn">View Full Details</a>
                        <button class="get-quote-btn" onclick="openQuoteModal('Chapman PC150 Power Collector')">Get a Quote</button>
                    </div>
                </div>
            </div>
        </section>

        <section class="contact-info">
            <h2>Contact Us Today</h2>
            <p>Ready to find the right equipment for your needs? Give us a call or send us an email for personalized service and competitive pricing.</p>
            <div class="contact-details">
                <p><strong>Phone:</strong> <a href="tel:845-482-5222">(845) 482-5222</a></p>
                <p><strong>Email:</strong> <a href="mailto:mullallytractor@gmail.com">mullallytractor@gmail.com</a></p>
                <p><strong>Address:</strong> 4510 State Route 52, Jeffersonville, NY 12748</p>
                <p><strong>Store Hours:</strong> Mon-Fri 8am-5pm, Sat 8am-12pm, Sun closed</p>
                <p><strong>Follow Us:</strong> 
                    <a href="https://www.facebook.com/MullallyTractor/" target="_blank" rel="noopener noreferrer">Facebook</a> | 
                    <a href="https://www.instagram.com/mullally_tractor_sales/" target="_blank" rel="noopener noreferrer">Instagram</a>
                </p>
            </div>
        </section>
    </main>

    <footer>
        <p>&copy; 2025 Mullally Tractor Sales. All rights reserved.</p>
        <p id="keyIndicator" style="font-size: 0.8em; color: #666; margin-top: 10px;"></p>
    </footer>

    <!-- Quote Modal -->
    <div id="quoteModal" class="quote-modal">
        <div class="quote-modal-content">
            <div class="quote-modal-header">
                <span class="close-modal" onclick="closeQuoteModal()">&times;</span>
                <h2 id="modalProductName">Get a Quote</h2>
            </div>
            <div class="quote-form-container">
                <p>Fill out the form below and we'll get back to you with pricing and availability information.</p>
                
                <form id="quoteForm" action="https://api.web3forms.com/submit" method="POST">
                    <!-- Web3Forms Access Key - Set dynamically by access_key.js -->
                    <input type="hidden" name="access_key" value="">
                    
                    <!-- Hidden product field -->
                    <input type="hidden" id="productName" name="product_name" value="">
                    
                    <!-- Form subject and metadata -->
                    <input type="hidden" name="subject" value="Quote Request - Mullally Tractor Sales">
                    <input type="hidden" name="from_name" value="Mullally Tractor Sales Website">
                    
                    <!-- Form Fields -->
                    <div class="form-row">
                        <div class="form-group">
                            <label for="quoteFirstName">First Name <span class="required">*</span></label>
                            <input type="text" id="quoteFirstName" name="first_name" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="quoteLastName">Last Name</label>
                            <input type="text" id="quoteLastName" name="last_name">
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="form-group">
                            <label for="quoteEmail">Email <span class="required">*</span></label>
                            <input type="email" id="quoteEmail" name="email" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="quotePhone">Phone Number</label>
                            <input type="tel" id="quotePhone" name="phone">
                        </div>
                    </div>
                    
                    <div class="form-group">
                        <label for="quoteMessage">Additional Information</label>
                        <textarea id="quoteMessage" name="message" placeholder="Please let us know any specific requirements, questions, or additional information about your quote request..."></textarea>
                    </div>
                    
                    <!-- Honeypot Spam Protection -->
                    <input type="checkbox" name="botcheck" class="hidden" style="display: none;">
                    
                    <!-- Success/Error Messages -->
                    <div id="quoteSuccessMessage" class="form-message success">
                        Thank you for your quote request! We'll get back to you soon with pricing information.
                    </div>
                    
                    <div id="quoteErrorMessage" class="form-message error">
                        There was an error submitting your quote request. Please try again.
                    </div>
                    
                    <button type="submit" class="submit-button">Request Quote</button>
                </form>
            </div>
        </div>
    </div>

    <script>
        // Quote Modal Functions
        function openQuoteModal(productName) {
            const modal = document.getElementById('quoteModal');
            const modalTitle = document.getElementById('modalProductName');
            const productField = document.getElementById('productName');
            
            modalTitle.textContent = 'Get a Quote - ' + productName;
            productField.value = productName;
            modal.style.display = 'block';
            
            // Prevent body scrolling when modal is open
            document.body.style.overflow = 'hidden';
        }
        
        function closeQuoteModal() {
            const modal = document.getElementById('quoteModal');
            modal.style.display = 'none';
            
            // Restore body scrolling
            document.body.style.overflow = 'auto';
            
            // Reset form and hide messages
            const form = document.getElementById('quoteForm');
            form.reset();
            document.getElementById('quoteSuccessMessage').style.display = 'none';
            document.getElementById('quoteErrorMessage').style.display = 'none';
        }
        
        // Close modal when clicking outside of it
        window.onclick = function(event) {
            const modal = document.getElementById('quoteModal');
            if (event.target === modal) {
                closeQuoteModal();
            }
        }
        
        // Handle quote form submission
        document.getElementById('quoteForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const form = e.target;
            const submitButton = form.querySelector('.submit-button');
            const successMessage = document.getElementById('quoteSuccessMessage');
            const errorMessage = document.getElementById('quoteErrorMessage');
            
            // Hide any previous messages
            successMessage.style.display = 'none';
            errorMessage.style.display = 'none';
            
            // Disable submit button
            submitButton.disabled = true;
            submitButton.textContent = 'Sending...';
            
            // Check if we're running from a local file (file:// protocol)
            const isLocalFile = window.location.protocol === 'file:';
            
            if (isLocalFile) {
                // For local files, use traditional form submission to avoid CORS
                try {
                    // Create a hidden iframe to submit the form without redirecting
                    const iframe = document.createElement('iframe');
                    iframe.style.display = 'none';
                    iframe.name = 'hiddenFrame';
                    document.body.appendChild(iframe);
                    
                    // Create a temporary form that submits to the iframe
                    const tempForm = document.createElement('form');
                    tempForm.method = 'POST';
                    tempForm.action = form.action;
                    tempForm.target = 'hiddenFrame';
                    tempForm.style.display = 'none';
                    
                    // Copy all form data
                    const formData = new FormData(form);
                    for (let [key, value] of formData.entries()) {
                        const input = document.createElement('input');
                        input.type = 'hidden';
                        input.name = key;
                        input.value = value;
                        tempForm.appendChild(input);
                    }
                    
                    document.body.appendChild(tempForm);
                    tempForm.submit();
                    
                    // Clean up after a short delay
                    setTimeout(() => {
                        document.body.removeChild(tempForm);
                        document.body.removeChild(iframe);
                    }, 1000);
                    
                    // Show success message
                    successMessage.style.display = 'block';
                    form.reset();
                    successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    
                } catch (error) {
                    console.log('Local file submission failed:', error);
                    errorMessage.style.display = 'block';
                    errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            } else {
                // For HTTP/HTTPS served sites, use fetch API
                try {
                    const response = await fetch(form.action, {
                        method: 'POST',
                        body: new FormData(form)
                    });
                    
                    if (response.ok) {
                        // Show success message
                        successMessage.style.display = 'block';
                        // Reset form
                        form.reset();
                        // Scroll to message
                        successMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                    } else {
                        throw new Error('Form submission failed');
                    }
                } catch (error) {
                    console.log('HTTP submission failed:', error);
                    // Show error message
                    errorMessage.style.display = 'block';
                    errorMessage.scrollIntoView({ behavior: 'smooth', block: 'center' });
                }
            }
            
            // Re-enable submit button
            submitButton.disabled = false;
            submitButton.textContent = 'Request Quote';
        });
    </script>

</body>
</html>
